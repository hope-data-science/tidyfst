<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Complete a data frame with missing combinations of data — complete_dt • tidyfst</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Complete a data frame with missing combinations of data — complete_dt"><meta property="og:description" content="Turns implicit missing values into explicit missing values.
 All the combinations of column values (should be unique) will be constructed.
 Other columns will be filled with NAs or constant value."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyfst</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/benchmark.html">Performance</a>
    </li>
    <li>
      <a href="../articles/chinese_tutorial.html">tidyfst包实例分析</a>
    </li>
    <li>
      <a href="../articles/english_tutorial.html">Use data.table the tidy way: An ultimate tutorial of tidyfst</a>
    </li>
    <li>
      <a href="../articles/example1_intro.html">Example 1: Basic usage</a>
    </li>
    <li>
      <a href="../articles/example2_join.html">Example 2: Join tables</a>
    </li>
    <li>
      <a href="../articles/example3_reshape.html">Example 3: Reshape</a>
    </li>
    <li>
      <a href="../articles/example4_nest.html">Example 4: Nest</a>
    </li>
    <li>
      <a href="../articles/example5_fst.html">Example 5: Fst</a>
    </li>
    <li>
      <a href="../articles/example6_dt.html">Example 6: Dt</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hope-data-science/tidyfst/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Complete a data frame with missing combinations of data</h1>
    <small class="dont-index">Source: <a href="https://github.com/hope-data-science/tidyfst/blob/HEAD/R/complete.R" class="external-link"><code>R/complete.R</code></a></small>
    <div class="hidden name"><code>complete_dt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Turns implicit missing values into explicit missing values.
 All the combinations of column values (should be unique) will be constructed.
 Other columns will be filled with NAs or constant value.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">complete_dt</span><span class="op">(</span><span class="va">.data</span>, <span class="va">...</span>, fill <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>data.frame</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Specification of columns to expand.The selection of columns is
supported by the flexible <code><a href="select.html">select_dt</a></code>.
To find all unique combinations of provided columns, including those not found in the data,
supply each variable as a separate argument. But the two modes (select the
needed columns and fill outside values) could not be mixed,
find more details in examples.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>Atomic value to fill into the missing cell, default uses <code>NA</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>data.table</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>When the provided columns with addtion data are of different length,
all the unique combinations would be returned. This operation should be used
only on unique entries, and it will always returned the unique entries.</p>
<p>If you supply fill parameter, these values will also replace existing explicit missing values in the data set.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  item_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"b"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  value1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  value2 <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span><span class="va">item_id</span>,<span class="va">item_name</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id, item_name&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item_id item_name group value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;num&gt;    &lt;char&gt; &lt;num&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       1         a     1      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       1         b    NA     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       2         a    NA     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       2         b     2      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       2         b     1      3      6</span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span><span class="va">item_id</span>,<span class="va">item_name</span>,fill <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id, item_name&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item_id item_name group value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;num&gt;    &lt;char&gt; &lt;num&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       1         a     1      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       1         b     0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       2         a     0      0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       2         b     2      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       2         b     1      3      6</span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span><span class="st">"item"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id, item_name&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item_id item_name group value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;num&gt;    &lt;char&gt; &lt;num&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       1         a     1      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       1         b    NA     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       2         a    NA     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       2         b     2      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       2         b     1      3      6</span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span>item_id<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item_id group item_name value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt; &lt;num&gt;    &lt;char&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       1     1         a      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       2     2         b      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       2     1         b      3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       3    NA      &lt;NA&gt;     NA     NA</span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span>item_id<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,group<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id, group&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    item_id group item_name value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;int&gt; &lt;int&gt;    &lt;char&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:       1     1         a      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:       1     2      &lt;NA&gt;     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:       2     1         b      3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:       2     2         b      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:       3     1      &lt;NA&gt;     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:       3     2      &lt;NA&gt;     NA     NA</span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">complete_dt</span><span class="op">(</span>item_id<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,group<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,item_name<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;item_id, group, item_name&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     item_id group item_name value1 value2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       &lt;int&gt; &lt;int&gt;    &lt;char&gt;  &lt;int&gt;  &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1:       1     1         a      1      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2:       1     1         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3:       1     1         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  4:       1     2         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5:       1     2         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  6:       1     2         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  7:       1     3         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  8:       1     3         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  9:       1     3         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10:       2     1         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11:       2     1         b      3      6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12:       2     1         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13:       2     2         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14:       2     2         b      2      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15:       2     2         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16:       2     3         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17:       2     3         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18:       2     3         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19:       3     1         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20:       3     1         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21:       3     1         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22:       3     2         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23:       3     2         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24:       3     2         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25:       3     3         a     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26:       3     3         b     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27:       3     3         c     NA     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     item_id group item_name value1 value2</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tian-Yuan Huang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

