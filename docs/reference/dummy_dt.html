<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fast creation of dummy variables — dummy_dt • tidyfst</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Fast creation of dummy variables — dummy_dt"><meta property="og:description" content="Quickly create dummy (binary) columns from character and factor type columns in the inputted data (and numeric columns if specified.)
This function is useful for statistical analysis when you want binary columns rather than character columns."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyfst</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/benchmark.html">Performance</a>
    </li>
    <li>
      <a href="../articles/chinese_tutorial.html">tidyfst包实例分析</a>
    </li>
    <li>
      <a href="../articles/english_tutorial.html">Use data.table the tidy way: An ultimate tutorial of tidyfst</a>
    </li>
    <li>
      <a href="../articles/example1_intro.html">Example 1: Basic usage</a>
    </li>
    <li>
      <a href="../articles/example2_join.html">Example 2: Join tables</a>
    </li>
    <li>
      <a href="../articles/example3_reshape.html">Example 3: Reshape</a>
    </li>
    <li>
      <a href="../articles/example4_nest.html">Example 4: Nest</a>
    </li>
    <li>
      <a href="../articles/example5_fst.html">Example 5: Fst</a>
    </li>
    <li>
      <a href="../articles/example6_dt.html">Example 6: Dt</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/hope-data-science/tidyfst/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fast creation of dummy variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/hope-data-science/tidyfst/blob/HEAD/R/dummy_dt.R" class="external-link"><code>R/dummy_dt.R</code></a></small>
    <div class="hidden name"><code>dummy_dt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Quickly create dummy (binary) columns from character and factor type columns in the inputted data (and numeric columns if specified.)
This function is useful for statistical analysis when you want binary columns rather than character columns.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dummy_dt</span><span class="op">(</span><span class="va">.data</span>, <span class="va">...</span>, longname <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p>data.frame</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Columns you want to create dummy variables from.
Very flexible, find in the examples.</p></dd>


<dt id="arg-longname">longname<a class="anchor" aria-label="anchor" href="#arg-longname"></a></dt>
<dd><p>logical. Should the output column labeled with the
original column name? Default uses <code>TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>data.table</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>If no columns provided, will return the original data frame.
 When NA exist in the input column, they would also be considered. If
 the input character column contains both NA and string "NA", they would be
 merged.</p>
<p>This function is inspired by <span class="pkg">fastDummies</span> package, but provides
simple and precise usage, whereas <code>fastDummies::dummy_cols</code> provides more
features for statistical usage.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>https://stackoverflow.com/questions/18881073/creating-dummy-variables-in-r-data-table</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>dummy_cols</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dummy_dt</span><span class="op">(</span><span class="va">Species</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Sepal.Length Sepal.Width Petal.Length Petal.Width   Species</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             &lt;num&gt;       &lt;num&gt;        &lt;num&gt;       &lt;num&gt;    &lt;fctr&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:          5.1         3.5          1.4         0.2    setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:          4.9         3.0          1.4         0.2    setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:          4.7         3.2          1.3         0.2    setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:          4.6         3.1          1.5         0.2    setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:          5.0         3.6          1.4         0.2    setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 146:          6.7         3.0          5.2         2.3 virginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147:          6.3         2.5          5.0         1.9 virginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 148:          6.5         3.0          5.2         2.0 virginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149:          6.2         3.4          5.4         2.3 virginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 150:          5.9         3.0          5.1         1.8 virginica</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 variable(s) not shown: [Species_setosa &lt;num&gt;, Species_versicolor &lt;num&gt;, Species_virginica &lt;num&gt;]</span>
<span class="r-in"><span><span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dummy_dt</span><span class="op">(</span><span class="va">Species</span>,longname <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Sepal.Length Sepal.Width Petal.Length Petal.Width   Species setosa</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             &lt;num&gt;       &lt;num&gt;        &lt;num&gt;       &lt;num&gt;    &lt;fctr&gt;  &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:          5.1         3.5          1.4         0.2    setosa      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:          4.9         3.0          1.4         0.2    setosa      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:          4.7         3.2          1.3         0.2    setosa      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:          4.6         3.1          1.5         0.2    setosa      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:          5.0         3.6          1.4         0.2    setosa      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 146:          6.7         3.0          5.2         2.3 virginica      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147:          6.3         2.5          5.0         1.9 virginica      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 148:          6.5         3.0          5.2         2.0 virginica      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 149:          6.2         3.4          5.4         2.3 virginica      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 150:          5.9         3.0          5.1         1.8 virginica      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 variable(s) not shown: [versicolor &lt;num&gt;, virginica &lt;num&gt;]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dummy_dt</span><span class="op">(</span><span class="va">vs</span>,<span class="va">am</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  21.0     6   160   110  3.90 2.620 16.46     0     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  21.0     6   160   110  3.90 2.875 17.02     0     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  22.8     4   108    93  3.85 2.320 18.61     1     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  21.4     6   258   110  3.08 3.215 19.44     1     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  18.7     8   360   175  3.15 3.440 17.02     0     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  18.1     6   225   105  2.76 3.460 20.22     1     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 variable(s) not shown: [carb &lt;num&gt;, vs_0 &lt;num&gt;, vs_1 &lt;num&gt;, am_1 &lt;num&gt;, am_0 &lt;num&gt;]</span>
<span class="r-in"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dummy_dt</span><span class="op">(</span><span class="st">"cyl|gear"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  21.0     6   160   110  3.90 2.620 16.46     0     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:  21.0     6   160   110  3.90 2.875 17.02     0     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:  22.8     4   108    93  3.85 2.320 18.61     1     1     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:  21.4     6   258   110  3.08 3.215 19.44     1     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:  18.7     8   360   175  3.15 3.440 17.02     0     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:  18.1     6   225   105  2.76 3.460 20.22     1     0     3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 variable(s) not shown: [carb &lt;num&gt;, cyl_6 &lt;num&gt;, cyl_4 &lt;num&gt;, cyl_8 &lt;num&gt;, gear_4 &lt;num&gt;, gear_3 &lt;num&gt;]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when there are NAs in the column</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span>,y <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dummy_dt</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x     y   x_a   x_b  x_NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;char&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      a     1     1     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      b     2     0     1     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     NA     3     0     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     NA     4     0     0     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when NA  and "NA" both exist, they would be merged</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="cn">NA</span>, <span class="st">"NA"</span><span class="op">)</span>,y <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">dummy_dt</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         x     y   x_a   x_b  x_NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    &lt;char&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      a     1     1     0     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      b     2     0     1     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:     NA     3     0     0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:     NA     4     0     0     1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tian-Yuan Huang.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

